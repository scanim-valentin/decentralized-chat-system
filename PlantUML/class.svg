<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="492px" preserveAspectRatio="none" style="width:803px;height:492px;background:#FFFFFF;" version="1.1" viewBox="0 0 803 492" width="803px" zoomAndPan="magnify"><defs><filter height="300%" id="f6o416yf453rl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4520fda4e10d4d791ce48fe025810cd4]
class main--><rect codeLine="1" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="103.3438" id="main" style="stroke:#A80036;stroke-width:1.5;" width="223" x="312.5" y="226"/><ellipse cx="405.75" cy="242" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M407.9375,243.7656 L403.7969,243.7656 L403.375,244.7969 L403.7969,244.7969 Q404.4063,244.7969 404.6719,245.0313 Q404.9375,245.2656 404.9375,245.6563 Q404.9375,246.0313 404.6719,246.2656 Q404.4063,246.5 403.7969,246.5 L401.5,246.5 Q400.8906,246.5 400.6406,246.2656 Q400.375,246.0313 400.375,245.6406 Q400.375,245.2656 400.6563,245.0313 Q400.9219,244.7813 401.5469,244.7969 L404.2188,238.1406 L403.1094,238.1406 Q402.5,238.1406 402.2344,237.9063 Q401.9688,237.6719 401.9688,237.2813 Q401.9688,236.9063 402.2344,236.6719 Q402.5,236.4375 403.1094,236.4375 L406.7813,236.4375 L410.1719,244.7969 Q410.7656,244.7969 410.9531,244.9375 Q411.3438,245.2031 411.3438,245.6563 Q411.3438,246.0313 411.0781,246.2656 Q410.8281,246.5 410.2188,246.5 L407.9219,246.5 Q407.3125,246.5 407.0469,246.2656 Q406.7813,246.0313 406.7813,245.6406 Q406.7813,245.2656 407.0469,245.0313 Q407.3125,244.7969 407.9219,244.7969 L408.3438,244.7969 L407.9375,243.7656 Z M407.2188,242.0625 L405.8594,238.6875 L404.4844,242.0625 L407.2188,242.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="28" x="426.25" y="246.9102">main</text><line style="stroke:#A80036;stroke-width:1.5;" x1="313.5" x2="534.5" y1="258" y2="258"/><line style="stroke:#A80036;stroke-width:1.5;" x1="313.5" x2="534.5" y1="266" y2="266"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="320.5" y="274"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="332.5" y="281.4189">boolean verifyUnicity(String name)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="320.5" y="287.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="332.5" y="295.2549">void waitForConnectionRequest()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="320.5" y="301.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="332.5" y="309.0908">void receiveNotification(Notification notif)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="320.5" y="315.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="332.5" y="322.9268">void main()</text><!--MD5=[d602b77267d5088762cb6a59b8ed96b1]
class UIManager--><rect codeLine="8" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="131.0156" id="UIManager" style="stroke:#A80036;stroke-width:1.5;" width="218" x="320" y="21"/><ellipse cx="394.25" cy="37" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M396.4375,38.7656 L392.2969,38.7656 L391.875,39.7969 L392.2969,39.7969 Q392.9063,39.7969 393.1719,40.0313 Q393.4375,40.2656 393.4375,40.6563 Q393.4375,41.0313 393.1719,41.2656 Q392.9063,41.5 392.2969,41.5 L390,41.5 Q389.3906,41.5 389.1406,41.2656 Q388.875,41.0313 388.875,40.6406 Q388.875,40.2656 389.1563,40.0313 Q389.4219,39.7813 390.0469,39.7969 L392.7188,33.1406 L391.6094,33.1406 Q391,33.1406 390.7344,32.9063 Q390.4688,32.6719 390.4688,32.2813 Q390.4688,31.9063 390.7344,31.6719 Q391,31.4375 391.6094,31.4375 L395.2813,31.4375 L398.6719,39.7969 Q399.2656,39.7969 399.4531,39.9375 Q399.8438,40.2031 399.8438,40.6563 Q399.8438,41.0313 399.5781,41.2656 Q399.3281,41.5 398.7188,41.5 L396.4219,41.5 Q395.8125,41.5 395.5469,41.2656 Q395.2813,41.0313 395.2813,40.6406 Q395.2813,40.2656 395.5469,40.0313 Q395.8125,39.7969 396.4219,39.7969 L396.8438,39.7969 L396.4375,38.7656 Z M395.7188,37.0625 L394.3594,33.6875 L392.9844,37.0625 L395.7188,37.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="414.75" y="41.9102">UIManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="321" x2="537" y1="53" y2="53"/><line style="stroke:#A80036;stroke-width:1.5;" x1="321" x2="537" y1="61" y2="61"/><ellipse cx="331" cy="72" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="340" y="76.4189">void openUI()</text><ellipse cx="331" cy="85.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="340" y="90.2549">void inputDialogBox(String Login)</text><ellipse cx="331" cy="99.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="340" y="104.0908">void openChattingSession(userID User)</text><ellipse cx="331" cy="113.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="192" x="340" y="117.9268">void closeChattingSession(userID User)</text><ellipse cx="331" cy="127.3438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="340" y="131.7627">void addMessage(message Message)</text><ellipse cx="331" cy="141.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="340" y="145.5986">void addHistory(message[] Messages)</text><!--MD5=[2537d44d4b901bc17a46e4edeb5b4130]
class DistributedDataManager--><rect codeLine="17" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="103.3438" id="DistributedDataManager" style="stroke:#A80036;stroke-width:1.5;" width="250" x="27" y="226"/><ellipse cx="80.75" cy="242" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M82.9375,243.7656 L78.7969,243.7656 L78.375,244.7969 L78.7969,244.7969 Q79.4063,244.7969 79.6719,245.0313 Q79.9375,245.2656 79.9375,245.6563 Q79.9375,246.0313 79.6719,246.2656 Q79.4063,246.5 78.7969,246.5 L76.5,246.5 Q75.8906,246.5 75.6406,246.2656 Q75.375,246.0313 75.375,245.6406 Q75.375,245.2656 75.6563,245.0313 Q75.9219,244.7813 76.5469,244.7969 L79.2188,238.1406 L78.1094,238.1406 Q77.5,238.1406 77.2344,237.9063 Q76.9688,237.6719 76.9688,237.2813 Q76.9688,236.9063 77.2344,236.6719 Q77.5,236.4375 78.1094,236.4375 L81.7813,236.4375 L85.1719,244.7969 Q85.7656,244.7969 85.9531,244.9375 Q86.3438,245.2031 86.3438,245.6563 Q86.3438,246.0313 86.0781,246.2656 Q85.8281,246.5 85.2188,246.5 L82.9219,246.5 Q82.3125,246.5 82.0469,246.2656 Q81.7813,246.0313 81.7813,245.6406 Q81.7813,245.2656 82.0469,245.0313 Q82.3125,244.7969 82.9219,244.7969 L83.3438,244.7969 L82.9375,243.7656 Z M82.2188,242.0625 L80.8594,238.6875 L79.4844,242.0625 L82.2188,242.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134" x="101.25" y="246.9102">DistributedDataManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="28" x2="276" y1="258" y2="258"/><line style="stroke:#A80036;stroke-width:1.5;" x1="28" x2="276" y1="266" y2="266"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="35" y="274"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="47" y="281.4189">void sendUPDBroadcast(String )</text><ellipse cx="38" cy="290.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="47" y="295.2549">UserList getConnectedUserList()</text><ellipse cx="38" cy="304.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="47" y="309.0908">void notifyUsers()</text><ellipse cx="38" cy="318.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="47" y="322.9268">void notifyNewName(userID User,string Login)</text><!--MD5=[02f642c9d723d92eda05eaec770a69a3]
class RemoteDatabaseManager--><rect codeLine="24" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="103.3438" id="RemoteDatabaseManager" style="stroke:#A80036;stroke-width:1.5;" width="278" x="7" y="35"/><ellipse cx="68.75" cy="51" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M70.9375,52.7656 L66.7969,52.7656 L66.375,53.7969 L66.7969,53.7969 Q67.4063,53.7969 67.6719,54.0313 Q67.9375,54.2656 67.9375,54.6563 Q67.9375,55.0313 67.6719,55.2656 Q67.4063,55.5 66.7969,55.5 L64.5,55.5 Q63.8906,55.5 63.6406,55.2656 Q63.375,55.0313 63.375,54.6406 Q63.375,54.2656 63.6563,54.0313 Q63.9219,53.7813 64.5469,53.7969 L67.2188,47.1406 L66.1094,47.1406 Q65.5,47.1406 65.2344,46.9063 Q64.9688,46.6719 64.9688,46.2813 Q64.9688,45.9063 65.2344,45.6719 Q65.5,45.4375 66.1094,45.4375 L69.7813,45.4375 L73.1719,53.7969 Q73.7656,53.7969 73.9531,53.9375 Q74.3438,54.2031 74.3438,54.6563 Q74.3438,55.0313 74.0781,55.2656 Q73.8281,55.5 73.2188,55.5 L70.9219,55.5 Q70.3125,55.5 70.0469,55.2656 Q69.7813,55.0313 69.7813,54.6406 Q69.7813,54.2656 70.0469,54.0313 Q70.3125,53.7969 70.9219,53.7969 L71.3438,53.7969 L70.9375,52.7656 Z M70.2188,51.0625 L68.8594,47.6875 L67.4844,51.0625 L70.2188,51.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="146" x="89.25" y="55.9102">RemoteDatabaseManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="284" y1="67" y2="67"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="75"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="27" y="82.4189">database_ip_address : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="284" y1="88.8359" y2="88.8359"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="96.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="27" y="104.2549">void sendSQLRequest(String SQL_request)</text><ellipse cx="18" cy="113.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="27" y="118.0908">message[] retrieveHistory(userID User)</text><ellipse cx="18" cy="127.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="252" x="27" y="131.9268">void updateHistory(userID User, message Message)</text><!--MD5=[410a85792e878c4a58d0df776009769b]
class ChattingSession--><rect codeLine="31" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="158.6875" id="ChattingSession" style="stroke:#A80036;stroke-width:1.5;" width="216" x="573" y="7"/><ellipse cx="630.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M633.5156,18.875 Q633.6719,18.6563 633.8594,18.5469 Q634.0469,18.4375 634.2656,18.4375 Q634.6406,18.4375 634.875,18.7031 Q635.1094,18.9531 635.1094,19.5625 L635.1094,21.0156 Q635.1094,21.625 634.875,21.8906 Q634.6406,22.1563 634.2656,22.1563 Q633.9219,22.1563 633.7188,21.9531 Q633.5156,21.7656 633.4063,21.25 Q633.3594,20.8906 633.1719,20.7031 Q632.8438,20.3281 632.2344,20.1094 Q631.625,19.8906 631,19.8906 Q630.2344,19.8906 629.5938,20.2188 Q628.9688,20.5469 628.4688,21.2969 Q627.9844,22.0469 627.9844,23.0781 L627.9844,24.1719 Q627.9844,25.4063 628.875,26.2344 Q629.7656,27.0469 631.3594,27.0469 Q632.2969,27.0469 632.9531,26.7969 Q633.3438,26.6406 633.7656,26.2031 Q634.0313,25.9375 634.1719,25.8594 Q634.3281,25.7813 634.5313,25.7813 Q634.8594,25.7813 635.1094,26.0469 Q635.375,26.2969 635.375,26.6406 Q635.375,26.9844 635.0313,27.3906 Q634.5313,27.9688 633.7344,28.2969 Q632.6563,28.75 631.3594,28.75 Q629.8438,28.75 628.6406,28.125 Q627.6563,27.625 626.9688,26.5625 Q626.2813,25.4844 626.2813,24.2031 L626.2813,23.0469 Q626.2813,21.7188 626.8906,20.5781 Q627.5156,19.4219 628.6094,18.8125 Q629.7031,18.1875 630.9375,18.1875 Q631.6719,18.1875 632.3125,18.3594 Q632.9688,18.5156 633.5156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="651.25" y="27.9102">ChattingSession</text><line style="stroke:#A80036;stroke-width:1.5;" x1="574" x2="788" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="593" y="54.4189">user_ip_address : String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="60.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="593" y="68.2549">user_id : userID</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="74.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="593" y="82.0908">username : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="574" x2="788" y1="88.5078" y2="88.5078"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="96.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="593" y="103.9268">Date getTime()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="110.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="593" y="117.7627">void sendMessage(message Message)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="581" y="124.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="593" y="131.5986">Message receiveMessage()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="596" y="145.4346"/><ellipse cx="584" cy="154.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="593" y="159.2705">void close()</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="42" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="75.6719" id="Message" style="stroke:#A80036;stroke-width:1.5;" width="85" x="642.5" y="239.5"/><ellipse cx="658.4" cy="255.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M661.1656,251.375 Q661.3219,251.1563 661.5094,251.0469 Q661.6969,250.9375 661.9156,250.9375 Q662.2906,250.9375 662.525,251.2031 Q662.7594,251.4531 662.7594,252.0625 L662.7594,253.5156 Q662.7594,254.125 662.525,254.3906 Q662.2906,254.6563 661.9156,254.6563 Q661.5719,254.6563 661.3688,254.4531 Q661.1656,254.2656 661.0563,253.75 Q661.0094,253.3906 660.8219,253.2031 Q660.4938,252.8281 659.8844,252.6094 Q659.275,252.3906 658.65,252.3906 Q657.8844,252.3906 657.2438,252.7188 Q656.6188,253.0469 656.1188,253.7969 Q655.6344,254.5469 655.6344,255.5781 L655.6344,256.6719 Q655.6344,257.9063 656.525,258.7344 Q657.4156,259.5469 659.0094,259.5469 Q659.9469,259.5469 660.6031,259.2969 Q660.9938,259.1406 661.4156,258.7031 Q661.6813,258.4375 661.8219,258.3594 Q661.9781,258.2813 662.1813,258.2813 Q662.5094,258.2813 662.7594,258.5469 Q663.025,258.7969 663.025,259.1406 Q663.025,259.4844 662.6813,259.8906 Q662.1813,260.4688 661.3844,260.7969 Q660.3063,261.25 659.0094,261.25 Q657.4938,261.25 656.2906,260.625 Q655.3063,260.125 654.6188,259.0625 Q653.9313,257.9844 653.9313,256.7031 L653.9313,255.5469 Q653.9313,254.2188 654.5406,253.0781 Q655.1656,251.9219 656.2594,251.3125 Q657.3531,250.6875 658.5875,250.6875 Q659.3219,250.6875 659.9625,250.8594 Q660.6188,251.0156 661.1656,251.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="672.6" y="260.4102">Message</text><line style="stroke:#A80036;stroke-width:1.5;" x1="643.5" x2="726.5" y1="271.5" y2="271.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="648.5" y="286.9189">time : Date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="648.5" y="300.7549">content : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="643.5" x2="726.5" y1="307.1719" y2="307.1719"/><!--MD5=[24a4751dab83c56cb9aa5f8fcf627ca0]
class UserList--><rect codeLine="47" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="89.5078" id="UserList" style="stroke:#A80036;stroke-width:1.5;" width="138" x="437" y="389"/><ellipse cx="478.55" cy="405" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M481.3156,400.875 Q481.4719,400.6563 481.6594,400.5469 Q481.8469,400.4375 482.0656,400.4375 Q482.4406,400.4375 482.675,400.7031 Q482.9094,400.9531 482.9094,401.5625 L482.9094,403.0156 Q482.9094,403.625 482.675,403.8906 Q482.4406,404.1563 482.0656,404.1563 Q481.7219,404.1563 481.5188,403.9531 Q481.3156,403.7656 481.2063,403.25 Q481.1594,402.8906 480.9719,402.7031 Q480.6438,402.3281 480.0344,402.1094 Q479.425,401.8906 478.8,401.8906 Q478.0344,401.8906 477.3938,402.2188 Q476.7688,402.5469 476.2688,403.2969 Q475.7844,404.0469 475.7844,405.0781 L475.7844,406.1719 Q475.7844,407.4063 476.675,408.2344 Q477.5656,409.0469 479.1594,409.0469 Q480.0969,409.0469 480.7531,408.7969 Q481.1438,408.6406 481.5656,408.2031 Q481.8313,407.9375 481.9719,407.8594 Q482.1281,407.7813 482.3313,407.7813 Q482.6594,407.7813 482.9094,408.0469 Q483.175,408.2969 483.175,408.6406 Q483.175,408.9844 482.8313,409.3906 Q482.3313,409.9688 481.5344,410.2969 Q480.4563,410.75 479.1594,410.75 Q477.6438,410.75 476.4406,410.125 Q475.4563,409.625 474.7688,408.5625 Q474.0813,407.4844 474.0813,406.2031 L474.0813,405.0469 Q474.0813,403.7188 474.6906,402.5781 Q475.3156,401.4219 476.4094,400.8125 Q477.5031,400.1875 478.7375,400.1875 Q479.4719,400.1875 480.1125,400.3594 Q480.7688,400.5156 481.3156,400.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="498.45" y="409.9102">UserList</text><line style="stroke:#A80036;stroke-width:1.5;" x1="438" x2="574" y1="421" y2="421"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="443" y="436.4189">user_list : UserList</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="443" y="450.2549">username : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="443" y="464.0908">map : Map&lt;userID, String&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="438" x2="574" y1="470.5078" y2="470.5078"/><!--MD5=[cbca7c54d7afdf4880cd4bf31c393a57]
class userID--><rect codeLine="53" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="61.8359" id="userID" style="stroke:#A80036;stroke-width:1.5;" width="69" x="610.5" y="403"/><ellipse cx="625.5" cy="419" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M628.2656,414.875 Q628.4219,414.6563 628.6094,414.5469 Q628.7969,414.4375 629.0156,414.4375 Q629.3906,414.4375 629.625,414.7031 Q629.8594,414.9531 629.8594,415.5625 L629.8594,417.0156 Q629.8594,417.625 629.625,417.8906 Q629.3906,418.1563 629.0156,418.1563 Q628.6719,418.1563 628.4688,417.9531 Q628.2656,417.7656 628.1563,417.25 Q628.1094,416.8906 627.9219,416.7031 Q627.5938,416.3281 626.9844,416.1094 Q626.375,415.8906 625.75,415.8906 Q624.9844,415.8906 624.3438,416.2188 Q623.7188,416.5469 623.2188,417.2969 Q622.7344,418.0469 622.7344,419.0781 L622.7344,420.1719 Q622.7344,421.4063 623.625,422.2344 Q624.5156,423.0469 626.1094,423.0469 Q627.0469,423.0469 627.7031,422.7969 Q628.0938,422.6406 628.5156,422.2031 Q628.7813,421.9375 628.9219,421.8594 Q629.0781,421.7813 629.2813,421.7813 Q629.6094,421.7813 629.8594,422.0469 Q630.125,422.2969 630.125,422.6406 Q630.125,422.9844 629.7813,423.3906 Q629.2813,423.9688 628.4844,424.2969 Q627.4063,424.75 626.1094,424.75 Q624.5938,424.75 623.3906,424.125 Q622.4063,423.625 621.7188,422.5625 Q621.0313,421.4844 621.0313,420.2031 L621.0313,419.0469 Q621.0313,417.7188 621.6406,416.5781 Q622.2656,415.4219 623.3594,414.8125 Q624.4531,414.1875 625.6875,414.1875 Q626.4219,414.1875 627.0625,414.3594 Q627.7188,414.5156 628.2656,414.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="37" x="639.5" y="423.9102">userID</text><line style="stroke:#A80036;stroke-width:1.5;" x1="611.5" x2="678.5" y1="435" y2="435"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="616.5" y="450.4189">ID : int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="611.5" x2="678.5" y1="456.8359" y2="456.8359"/><!--MD5=[fb4a3ef56b90ccd3601dc17eebd18d83]
reverse link RemoteDatabaseManager to main--><path codeLine="59" d="M224.74,141.03 C263.82,167.6 310.78,199.53 349.3,225.71 " fill="none" id="RemoteDatabaseManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="220.5,138.15,225.697,146.516,224.636,140.9596,230.1924,139.8985,220.5,138.15" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="223.0406" y="159.6611">1</text><!--MD5=[342470d84a68206c6868338f70b7f700]
reverse link DistributedDataManager to main--><path codeLine="60" d="M282.35,277.5 C292.36,277.5 302.38,277.5 312.4,277.5 " fill="none" id="DistributedDataManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="277.11,277.5,286.11,281.5,282.11,277.5,286.11,273.5,277.11,277.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="284.9472" y="274.5079">1</text><!--MD5=[d566c10f5fd84f0da7893084dc815b76]
reverse link UIManager to main--><path codeLine="61" d="M427.16,157.15 C426.55,179.97 425.9,204.87 425.34,225.99 " fill="none" id="UIManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="427.29,152.01,423.06,160.9042,427.1615,157.0083,431.0573,161.1098,427.29,152.01" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="419.7202" y="173.5636">1</text><!--MD5=[48f586ba602983cb5a7be69e50d98794]
reverse link ChattingSession to main--><path codeLine="62" d="M570.05,169.09 C543.88,188.34 516.72,208.31 493.03,225.74 " fill="none" id="ChattingSession-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="574.24,166.01,564.6179,168.1111,570.2093,168.9687,569.3518,174.5601,574.24,166.01" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="544.9357" y="186.505">0..*</text><!--MD5=[8c9babbd87fba3c124342ea8c8cad23e]
reverse link UIManager to ChattingSession--><path codeLine="63" d="M543.4,86.5 C553.21,86.5 563.02,86.5 572.83,86.5 " fill="none" id="UIManager-backto-ChattingSession" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="538.27,86.5,547.27,90.5,543.27,86.5,547.27,82.5,538.27,86.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b259fcf2890f91fafce0d0dcfff19b71]
link UserList to userID--><path codeLine="64" d="M575.23,434 C585.21,434 595.19,434 605.17,434 " fill="none" id="UserList-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="610.39,434,601.39,430,605.39,434,601.39,438,610.39,434" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="582.4438" y="430.116">0..*</text><!--MD5=[575ae5f8a95ff5e63e8c0ce37e6efb43]
link main to userID--><path codeLine="65" d="M505.76,329.08 C533.92,347.25 565.32,368.36 593,389 C597.43,392.3 601.97,395.86 606.44,399.48 " fill="none" id="main-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="610.52,402.81,606.0732,394.0222,606.6451,399.65,601.0173,400.222,610.52,402.81" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c00eaf3dc59855bcedd6fa91d12be3a5]
link ChattingSession to userID--><path codeLine="66" d="M726.93,166.03 C748.91,214.05 766.27,276.19 745,329 C732.67,359.62 706.53,386.28 684.07,404.94 " fill="none" id="ChattingSession-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="679.92,408.33,689.417,405.721,683.7879,405.1615,684.3474,399.5324,679.92,408.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[92552366479dc42050c6f8563d855510]
link main to UserList--><path codeLine="67" d="M450.85,329.09 C460.28,346.86 470.85,366.77 480.19,384.37 " fill="none" id="main-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="482.54,388.79,481.8539,378.9651,480.196,384.3735,474.7875,382.7155,482.54,388.79" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bcbfe92bd5a886e938b40b2ec469097b]
link ChattingSession to UserList--><path codeLine="68" d="M641.07,166.33 C607.12,233.36 559.45,327.48 530.76,384.13 " fill="none" id="ChattingSession-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="528.38,388.81,536.0146,382.588,530.6389,384.3494,528.8775,378.9737,528.38,388.81" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f4c6d2b6a1e4be654f071f327efb56]
link ChattingSession to Message--><path codeLine="69" d="M682.66,166.01 C683.16,189.48 683.68,214.3 684.11,234.46 " fill="none" id="ChattingSession-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="684.22,239.48,688.0392,230.4018,684.12,234.481,680.0408,230.5618,684.22,239.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa7045a6c40818aa15b2b1ef6a2d3648]
link main to Message--><path codeLine="70" d="M535.64,277.5 C569.56,277.5 603.48,277.5 637.4,277.5 " fill="none" id="main-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="642.41,277.5,633.41,273.5,637.41,277.5,633.41,281.5,642.41,277.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7851f8cf825f410b8ea15f13cb5db20c]
@startuml class
abstract class main {
    -boolean verifyUnicity(String name)
    -void waitForConnectionRequest()
    -void receiveNotification(Notification notif)
    -void main()
}

abstract class UIManager {
    +void openUI()
    +void inputDialogBox(String Login)
    +void openChattingSession(userID User)
    +void closeChattingSession(userID User)
    +void addMessage(message Message)
    +void addHistory(message[] Messages)
}

abstract class DistributedDataManager {
    -void sendUPDBroadcast(String )
    +UserList getConnectedUserList()
    +void notifyUsers()
    +void notifyNewName(userID User,string Login)
}

abstract class  RemoteDatabaseManager{
    - database_ip_address : String 
    -void sendSQLRequest(String SQL_request)
    +message[] retrieveHistory(userID User)
    +void updateHistory(userID User, message Message)
}

class ChattingSession{
    - user_ip_address : String 
    - user_id : userID
    - username : String
    -Date getTime()
    -void sendMessage(message Message)
    -Message receiveMessage()

    +void close()
}

class Message{
    time : Date
    content : String
}

class UserList{
    user_list : UserList
    username : String
    map : Map<userID, String> 
}

class userID{
    ID : int
} 



RemoteDatabaseManager "1" <- - main
DistributedDataManager "1" <- main
UIManager "1" <- main
ChattingSession "0..*" <- - main
UIManager <- ChattingSession
UserList -> "0..*" userID
main - -> userID
ChattingSession -> userID
main - -> UserList
ChattingSession -> UserList
ChattingSession -> Message
main -> Message

@enduml

PlantUML version 1.2021.14(Fri Nov 12 17:46:50 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>