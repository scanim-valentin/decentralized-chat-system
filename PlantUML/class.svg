<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="483px" preserveAspectRatio="none" style="width:816px;height:483px;background:#FFFFFF;" version="1.1" viewBox="0 0 816 483" width="816px" zoomAndPan="magnify"><defs><filter height="300%" id="f6o416yf453rl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4520fda4e10d4d791ce48fe025810cd4]
class main--><rect codeLine="1" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="100.7996" id="main" style="stroke:#A80036;stroke-width:1.5;" width="222" x="324" y="221"/><ellipse cx="417.25" cy="237" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M419.6094,241.25 L418.875,238.7813 L416.1094,238.7813 L415.3594,241.25 L413.4531,241.25 L417.0469,230.5938 L417.9531,230.5938 L421.5469,241.25 L419.6094,241.25 Z M417.5,234.1406 L416.5156,237.4063 L418.4688,237.4063 L417.5,234.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="27" x="437.75" y="242.1">main</text><line style="stroke:#A80036;stroke-width:1.5;" x1="325" x2="545" y1="253" y2="253"/><line style="stroke:#A80036;stroke-width:1.5;" x1="325" x2="545" y1="261" y2="261"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="332" y="269"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="344" y="275.2189">boolean verifyUnicity(String name)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="332" y="282.1999"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="163" x="344" y="288.4188">void waitForConnectionRequest()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="332" y="295.3998"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="344" y="301.6187">void receiveNotification(Notification notif)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="332" y="308.5997"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="344" y="314.8186">void main()</text><!--MD5=[d602b77267d5088762cb6a59b8ed96b1]
class UIManager--><rect codeLine="8" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="127.1994" id="UIManager" style="stroke:#A80036;stroke-width:1.5;" width="222" x="326" y="20.5"/><ellipse cx="402.25" cy="36.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M404.6094,40.75 L403.875,38.2813 L401.1094,38.2813 L400.3594,40.75 L398.4531,40.75 L402.0469,30.0938 L402.9531,30.0938 L406.5469,40.75 L404.6094,40.75 Z M402.5,33.6406 L401.5156,36.9063 L403.4688,36.9063 L402.5,33.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="422.75" y="41.6">UIManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="547" y1="52.5" y2="52.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="547" y1="60.5" y2="60.5"/><ellipse cx="337" cy="71.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="346" y="74.7189">void openUI()</text><ellipse cx="337" cy="84.6999" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="346" y="87.9188">void inputDialogBox(String Login)</text><ellipse cx="337" cy="97.8998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="346" y="101.1187">void openChattingSession(userID User)</text><ellipse cx="337" cy="111.0997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="346" y="114.3186">void closeChattingSession(userID User)</text><ellipse cx="337" cy="124.2996" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="346" y="127.5185">void addMessage(message Message)</text><ellipse cx="337" cy="137.4995" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="346" y="140.7184">void addHistory(message[] Messages)</text><!--MD5=[2537d44d4b901bc17a46e4edeb5b4130]
class DistributedDataManager--><rect codeLine="17" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="100.7996" id="DistributedDataManager" style="stroke:#A80036;stroke-width:1.5;" width="253" x="35.5" y="221"/><ellipse cx="90.75" cy="237" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M93.1094,241.25 L92.375,238.7813 L89.6094,238.7813 L88.8594,241.25 L86.9531,241.25 L90.5469,230.5938 L91.4531,230.5938 L95.0469,241.25 L93.1094,241.25 Z M91,234.1406 L90.0156,237.4063 L91.9688,237.4063 L91,234.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134" x="111.25" y="242.1">DistributedDataManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="287.5" y1="253" y2="253"/><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="287.5" y1="261" y2="261"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="43.5" y="269"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="55.5" y="275.2189">void sendUPDBroadcast(String )</text><ellipse cx="46.5" cy="285.1999" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="55.5" y="288.4188">UserList getConnectedUserList()</text><ellipse cx="46.5" cy="298.3998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="55.5" y="301.6187">void notifyUsers()</text><ellipse cx="46.5" cy="311.5997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="55.5" y="314.8186">void notifyNewName(userID User,string Login)</text><!--MD5=[02f642c9d723d92eda05eaec770a69a3]
class RemoteDatabaseManager--><rect codeLine="24" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="100.7996" id="RemoteDatabaseManager" style="stroke:#A80036;stroke-width:1.5;" width="284" x="7" y="33.5"/><ellipse cx="72.25" cy="49.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M74.6094,53.75 L73.875,51.2813 L71.1094,51.2813 L70.3594,53.75 L68.4531,53.75 L72.0469,43.0938 L72.9531,43.0938 L76.5469,53.75 L74.6094,53.75 Z M72.5,46.6406 L71.5156,49.9063 L73.4688,49.9063 L72.5,46.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="145" x="92.75" y="54.6">RemoteDatabaseManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="290" y1="65.5" y2="65.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="73.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="27" y="79.7189">database_ip_address : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="290" y1="86.6999" y2="86.6999"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="94.6999"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="27" y="100.9188">void sendSQLRequest(String SQL_request)</text><ellipse cx="18" cy="110.8998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="27" y="114.1187">message[] retrieveHistory(userID User)</text><ellipse cx="18" cy="124.0997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="27" y="127.3186">void updateHistory(userID User, message Message)</text><!--MD5=[410a85792e878c4a58d0df776009769b]
class ChattingSession--><rect codeLine="31" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="153.5992" id="ChattingSession" style="stroke:#A80036;stroke-width:1.5;" width="219" x="583.5" y="7"/><ellipse cx="643.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M643.5,28.1875 Q642.3438,28.1875 641.375,27.625 Q640.4219,27.0469 639.8438,25.8438 Q639.2813,24.6406 639.2813,22.7656 Q639.2813,21.2031 639.6563,20.1406 Q640.0469,19.0781 640.6719,18.4531 Q641.2969,17.8125 642.0469,17.5313 Q642.8125,17.25 643.5625,17.25 Q644.75,17.25 645.6094,17.7969 Q646.4688,18.3438 646.9063,19.3281 L645.7031,20.2344 L645.5625,20.3125 L645.4844,20.1875 Q645.5,20.0625 645.4531,19.9375 Q645.4063,19.8125 645.2813,19.5625 Q644.9063,19.125 644.5,18.9688 Q644.1094,18.7969 643.6563,18.7969 Q643.0156,18.7969 642.4375,19.25 Q641.875,19.6875 641.5313,20.5469 Q641.1875,21.4063 641.1875,22.6719 Q641.1875,24.5156 641.8594,25.5625 Q642.5313,26.6094 643.5469,26.6094 Q644.1719,26.6094 644.625,26.3438 Q645.0938,26.0625 645.4688,25.4375 L646.7969,26.4219 Q646.2031,27.3906 645.3906,27.7969 Q644.5781,28.1875 643.5,28.1875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="664.25" y="26.948">ChattingSession</text><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="801.5" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="603.5" y="53.2189">user_ip_address : String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="60.1999"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="603.5" y="66.4188">user_id : userID</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="73.3998"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="603.5" y="79.6187">username : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="801.5" y1="86.5997" y2="86.5997"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="94.5997"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="603.5" y="100.8186">Date getTime()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="107.7996"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="603.5" y="114.0185">void sendMessage(message Message)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="120.9995"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="603.5" y="127.2184">Message receiveMessage()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="606.5" y="140.4183"/><ellipse cx="594.5" cy="150.3993" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="603.5" y="153.6182">void close()</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="42" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="74.3998" id="Message" style="stroke:#A80036;stroke-width:1.5;" width="85" x="652.5" y="234.5"/><ellipse cx="668.85" cy="250.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M668.6,255.6875 Q667.4438,255.6875 666.475,255.125 Q665.5219,254.5469 664.9438,253.3438 Q664.3813,252.1406 664.3813,250.2656 Q664.3813,248.7031 664.7563,247.6406 Q665.1469,246.5781 665.7719,245.9531 Q666.3969,245.3125 667.1469,245.0313 Q667.9125,244.75 668.6625,244.75 Q669.85,244.75 670.7094,245.2969 Q671.5688,245.8438 672.0063,246.8281 L670.8031,247.7344 L670.6625,247.8125 L670.5844,247.6875 Q670.6,247.5625 670.5531,247.4375 Q670.5063,247.3125 670.3813,247.0625 Q670.0063,246.625 669.6,246.4688 Q669.2094,246.2969 668.7563,246.2969 Q668.1156,246.2969 667.5375,246.75 Q666.975,247.1875 666.6313,248.0469 Q666.2875,248.9063 666.2875,250.1719 Q666.2875,252.0156 666.9594,253.0625 Q667.6313,254.1094 668.6469,254.1094 Q669.2719,254.1094 669.725,253.8438 Q670.1938,253.5625 670.5688,252.9375 L671.8969,253.9219 Q671.3031,254.8906 670.4906,255.2969 Q669.6781,255.6875 668.6,255.6875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="683.15" y="254.448">Message</text><line style="stroke:#A80036;stroke-width:1.5;" x1="653.5" x2="736.5" y1="266.5" y2="266.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="658.5" y="280.7189">time : Date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="658.5" y="293.9188">content : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="653.5" x2="736.5" y1="300.8998" y2="300.8998"/><!--MD5=[24a4751dab83c56cb9aa5f8fcf627ca0]
class UserList--><rect codeLine="47" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="87.5997" id="UserList" style="stroke:#A80036;stroke-width:1.5;" width="142" x="446" y="382"/><ellipse cx="490.25" cy="398" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M490,403.1875 Q488.8438,403.1875 487.875,402.625 Q486.9219,402.0469 486.3438,400.8438 Q485.7813,399.6406 485.7813,397.7656 Q485.7813,396.2031 486.1563,395.1406 Q486.5469,394.0781 487.1719,393.4531 Q487.7969,392.8125 488.5469,392.5313 Q489.3125,392.25 490.0625,392.25 Q491.25,392.25 492.1094,392.7969 Q492.9688,393.3438 493.4063,394.3281 L492.2031,395.2344 L492.0625,395.3125 L491.9844,395.1875 Q492,395.0625 491.9531,394.9375 Q491.9063,394.8125 491.7813,394.5625 Q491.4063,394.125 491,393.9688 Q490.6094,393.7969 490.1563,393.7969 Q489.5156,393.7969 488.9375,394.25 Q488.375,394.6875 488.0313,395.5469 Q487.6875,396.4063 487.6875,397.6719 Q487.6875,399.5156 488.3594,400.5625 Q489.0313,401.6094 490.0469,401.6094 Q490.6719,401.6094 491.125,401.3438 Q491.5938,401.0625 491.9688,400.4375 L493.2969,401.4219 Q492.7031,402.3906 491.8906,402.7969 Q491.0781,403.1875 490,403.1875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="510.75" y="401.948">UserList</text><line style="stroke:#A80036;stroke-width:1.5;" x1="447" x2="587" y1="414" y2="414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="452" y="428.2189">user_list : UserList</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="452" y="441.4188">username : String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="452" y="454.6187">map : Map&lt;userID, String&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="447" x2="587" y1="461.5997" y2="461.5997"/><!--MD5=[cbca7c54d7afdf4880cd4bf31c393a57]
class userID--><rect codeLine="53" fill="#FEFECE" filter="url(#f6o416yf453rl)" height="61.1999" id="userID" style="stroke:#A80036;stroke-width:1.5;" width="68" x="623" y="395.5"/><ellipse cx="638" cy="411.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M637.75,416.6875 Q636.5938,416.6875 635.625,416.125 Q634.6719,415.5469 634.0938,414.3438 Q633.5313,413.1406 633.5313,411.2656 Q633.5313,409.7031 633.9063,408.6406 Q634.2969,407.5781 634.9219,406.9531 Q635.5469,406.3125 636.2969,406.0313 Q637.0625,405.75 637.8125,405.75 Q639,405.75 639.8594,406.2969 Q640.7188,406.8438 641.1563,407.8281 L639.9531,408.7344 L639.8125,408.8125 L639.7344,408.6875 Q639.75,408.5625 639.7031,408.4375 Q639.6563,408.3125 639.5313,408.0625 Q639.1563,407.625 638.75,407.4688 Q638.3594,407.2969 637.9063,407.2969 Q637.2656,407.2969 636.6875,407.75 Q636.125,408.1875 635.7813,409.0469 Q635.4375,409.9063 635.4375,411.1719 Q635.4375,413.0156 636.1094,414.0625 Q636.7813,415.1094 637.7969,415.1094 Q638.4219,415.1094 638.875,414.8438 Q639.3438,414.5625 639.7188,413.9375 L641.0469,414.9219 Q640.4531,415.8906 639.6406,416.2969 Q638.8281,416.6875 637.75,416.6875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="652" y="415.448">userID</text><line style="stroke:#A80036;stroke-width:1.5;" x1="624" x2="690" y1="427.5" y2="427.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="629" y="441.7189">ID : int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="624" x2="690" y1="448.6999" y2="448.6999"/><!--MD5=[fb4a3ef56b90ccd3601dc17eebd18d83]
reverse link RemoteDatabaseManager to main--><path codeLine="59" d="M230.02,137.55 C270.39,163.73 318.93,195.22 358.64,220.97 " fill="none" id="RemoteDatabaseManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="225.64,134.71,231.0278,142.9545,229.8394,137.4239,235.37,136.2355,225.64,134.71" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="228.0111" y="154.2964">1</text><!--MD5=[342470d84a68206c6868338f70b7f700]
reverse link DistributedDataManager to main--><path codeLine="60" d="M293.86,271.5 C303.84,271.5 313.82,271.5 323.8,271.5 " fill="none" id="DistributedDataManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="288.64,271.5,297.64,275.5,293.64,271.5,297.64,267.5,288.64,271.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="296.5704" y="268.1444">1</text><!--MD5=[d566c10f5fd84f0da7893084dc815b76]
reverse link UIManager to main--><path codeLine="61" d="M436.27,152.62 C436.03,175.18 435.76,199.88 435.54,220.81 " fill="none" id="UIManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="436.33,147.54,432.2274,156.4937,436.2729,152.5397,440.2269,156.5851,436.33,147.54" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="428.8478" y="167.8542">1</text><!--MD5=[48f586ba602983cb5a7be69e50d98794]
reverse link ChattingSession to main--><path codeLine="62" d="M582.68,164.32 C556.03,183.48 528.3,203.42 504.16,220.78 " fill="none" id="ChattingSession-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="586.94,161.25,577.3014,163.2742,582.8859,164.1764,581.9837,169.7609,586.94,161.25" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="556.9661" y="180.6532">0..*</text><!--MD5=[8c9babbd87fba3c124342ea8c8cad23e]
reverse link UIManager to ChattingSession--><path codeLine="63" d="M553.69,84 C563.63,84 573.56,84 583.5,84 " fill="none" id="UIManager-backto-ChattingSession" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="548.5,84,557.5,88,553.5,84,557.5,80,548.5,84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b259fcf2890f91fafce0d0dcfff19b71]
link UserList to userID--><path codeLine="64" d="M588.09,426 C597.95,426 607.81,426 617.66,426 " fill="none" id="UserList-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="622.82,426,613.82,422,617.82,426,613.82,430,622.82,426" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="594.9504" y="421.7767">0..*</text><!--MD5=[575ae5f8a95ff5e63e8c0ce37e6efb43]
link main to userID--><path codeLine="65" d="M517.36,322.18 C545.96,340.23 577.9,361.3 606,382 C610.35,385.21 614.82,388.68 619.2,392.21 " fill="none" id="main-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="623.21,395.46,618.7473,386.6802,619.3294,392.307,613.7026,392.8891,623.21,395.46" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c00eaf3dc59855bcedd6fa91d12be3a5]
link ChattingSession to userID--><path codeLine="66" d="M737.21,161.26 C758.7,208.49 775.84,269.87 755,322 C742.93,352.21 717.31,378.61 695.29,397.12 " fill="none" id="ChattingSession-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="691.23,400.49,700.7164,397.8428,695.0851,397.306,695.622,391.6746,691.23,400.49" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[92552366479dc42050c6f8563d855510]
link main to UserList--><path codeLine="67" d="M461.62,322.01 C471.19,339.81 481.96,359.84 491.44,377.46 " fill="none" id="main-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="493.82,381.89,493.0712,372.0696,491.4478,377.4886,486.0289,375.8652,493.82,381.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bcbfe92bd5a886e938b40b2ec469097b]
link ChattingSession to UserList--><path codeLine="68" d="M653.5,161.3 C619.3,227.38 570.87,320.93 541.84,377.02 " fill="none" id="ChattingSession-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="539.44,381.66,547.1298,375.5064,541.7387,377.2197,540.0254,371.8286,539.44,381.66" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f4c6d2b6a1e4be654f071f327efb56]
link ChattingSession to Message--><path codeLine="69" d="M693.82,161.25 C694.07,184.37 694.34,208.9 694.55,228.84 " fill="none" id="ChattingSession-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="694.61,234.08,698.5069,225.0349,694.5529,229.0803,690.5074,225.1263,694.61,234.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa7045a6c40818aa15b2b1ef6a2d3648]
link main to Message--><path codeLine="70" d="M546.21,271.5 C579.77,271.5 613.33,271.5 646.89,271.5 " fill="none" id="main-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="652.28,271.5,643.28,267.5,647.28,271.5,643.28,275.5,652.28,271.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8d6ee22d0c69ea0f69f7880eedd37547]
@startuml class
abstract class main {
    -boolean verifyUnicity(String name)
    -void waitForConnectionRequest()
    -void receiveNotification(Notification notif)
    -void main()
}

abstract class UIManager {
    +void openUI()
    +void inputDialogBox(String Login)
    +void openChattingSession(userID User)
    +void closeChattingSession(userID User)
    +void addMessage(message Message)
    +void addHistory(message[] Messages)
}

abstract class DistributedDataManager {
    -void sendUPDBroadcast(String )
    +UserList getConnectedUserList()
    +void notifyUsers()
    +void notifyNewName(userID User,string Login)
}

abstract class  RemoteDatabaseManager{
    - database_ip_address : String 
    -void sendSQLRequest(String SQL_request)
    +message[] retrieveHistory(userID User)
    +void updateHistory(userID User, message Message)
}

class ChattingSession{
    - user_ip_address : String 
    - user_id : userID
    - username : String
    -Date getTime()
    -void sendMessage(message Message)
    -Message receiveMessage()

    +void close()
}

class Message{
    time : Date
    content : String
}

class UserList{
    user_list : UserList
    username : String
    map : Map<userID, String> 
}

class userID{
    ID : int
} 



RemoteDatabaseManager "1" <- - main
DistributedDataManager "1" <- main
UIManager "1" <- main
ChattingSession "0..*" <- - main
UIManager <- ChattingSession
UserList -> "0..*" userID
main - -> userID
ChattingSession -> userID
main - -> UserList
ChattingSession -> UserList
ChattingSession -> Message
main -> Message

@enduml

PlantUML version 1.2021.14(Fri Nov 12 17:46:50 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>