<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="417px" preserveAspectRatio="none" style="width:816px;height:417px;background:#FFFFFF;" version="1.1" viewBox="0 0 816 417" width="816px" zoomAndPan="magnify"><defs><filter height="300%" id="fiygla8lliwgv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4520fda4e10d4d791ce48fe025810cd4]
class main--><rect codeLine="1" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="61.1999" id="main" style="stroke:#A80036;stroke-width:1.5;" width="80" x="430" y="207.5"/><ellipse cx="454.45" cy="223.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M456.8094,227.75 L456.075,225.2813 L453.3094,225.2813 L452.5594,227.75 L450.6531,227.75 L454.2469,217.0938 L455.1531,217.0938 L458.7469,227.75 L456.8094,227.75 Z M454.7,220.6406 L453.7156,223.9063 L455.6688,223.9063 L454.7,220.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="27" x="470.55" y="228.6">main</text><line style="stroke:#A80036;stroke-width:1.5;" x1="431" x2="509" y1="239.5" y2="239.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="431" x2="509" y1="247.5" y2="247.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="438" y="255.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="450" y="261.7189">void main()</text><!--MD5=[d602b77267d5088762cb6a59b8ed96b1]
class UIManager--><rect codeLine="5" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="127.1994" id="UIManager" style="stroke:#A80036;stroke-width:1.5;" width="222" x="326" y="7"/><ellipse cx="402.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M404.6094,27.25 L403.875,24.7813 L401.1094,24.7813 L400.3594,27.25 L398.4531,27.25 L402.0469,16.5938 L402.9531,16.5938 L406.5469,27.25 L404.6094,27.25 Z M402.5,20.1406 L401.5156,23.4063 L403.4688,23.4063 L402.5,20.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="422.75" y="28.1">UIManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="547" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="547" y1="47" y2="47"/><ellipse cx="337" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="346" y="61.2189">void openUI()</text><ellipse cx="337" cy="71.1999" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="346" y="74.4188">void inputDialogBox(string Login)</text><ellipse cx="337" cy="84.3998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="346" y="87.6187">void openChattingSession(userID User)</text><ellipse cx="337" cy="97.5997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="346" y="100.8186">void closeChattingSession(userID User)</text><ellipse cx="337" cy="110.7996" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="346" y="114.0185">void addMessage(message Message)</text><ellipse cx="337" cy="123.9995" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="346" y="127.2184">void addHistory(message[] Messages)</text><!--MD5=[2537d44d4b901bc17a46e4edeb5b4130]
class DistributedDataManager--><rect codeLine="14" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="87.5997" id="DistributedDataManager" style="stroke:#A80036;stroke-width:1.5;" width="253" x="141.5" y="194"/><ellipse cx="196.75" cy="210" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M199.1094,214.25 L198.375,211.7813 L195.6094,211.7813 L194.8594,214.25 L192.9531,214.25 L196.5469,203.5938 L197.4531,203.5938 L201.0469,214.25 L199.1094,214.25 Z M197,207.1406 L196.0156,210.4063 L197.9688,210.4063 L197,207.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134" x="217.25" y="215.1">DistributedDataManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="393.5" y1="226" y2="226"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="393.5" y1="234" y2="234"/><ellipse cx="152.5" cy="245" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="161.5" y="248.2189">UserList getConnectedUserList()</text><ellipse cx="152.5" cy="258.1999" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="161.5" y="261.4188">void notifyUsers()</text><ellipse cx="152.5" cy="271.3998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="161.5" y="274.6187">void notifyNewName(userID User,string Login)</text><!--MD5=[02f642c9d723d92eda05eaec770a69a3]
class RemoteDatabaseManager--><rect codeLine="20" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="74.3998" id="RemoteDatabaseManager" style="stroke:#A80036;stroke-width:1.5;" width="284" x="7" y="33.5"/><ellipse cx="72.25" cy="49.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M74.6094,53.75 L73.875,51.2813 L71.1094,51.2813 L70.3594,53.75 L68.4531,53.75 L72.0469,43.0938 L72.9531,43.0938 L76.5469,53.75 L74.6094,53.75 Z M72.5,46.6406 L71.5156,49.9063 L73.4688,49.9063 L72.5,46.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="145" x="92.75" y="54.6">RemoteDatabaseManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="290" y1="65.5" y2="65.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="290" y1="73.5" y2="73.5"/><ellipse cx="18" cy="84.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="27" y="87.7189">message[] retrieveHistory(userID User)</text><ellipse cx="18" cy="97.6999" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="27" y="100.9188">void updateHistory(userID User, message Message)</text><!--MD5=[410a85792e878c4a58d0df776009769b]
class ChattingSession--><rect codeLine="25" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="87.5997" id="ChattingSession" style="stroke:#A80036;stroke-width:1.5;" width="219" x="583.5" y="26.5"/><ellipse cx="643.75" cy="42.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M643.5,47.6875 Q642.3438,47.6875 641.375,47.125 Q640.4219,46.5469 639.8438,45.3438 Q639.2813,44.1406 639.2813,42.2656 Q639.2813,40.7031 639.6563,39.6406 Q640.0469,38.5781 640.6719,37.9531 Q641.2969,37.3125 642.0469,37.0313 Q642.8125,36.75 643.5625,36.75 Q644.75,36.75 645.6094,37.2969 Q646.4688,37.8438 646.9063,38.8281 L645.7031,39.7344 L645.5625,39.8125 L645.4844,39.6875 Q645.5,39.5625 645.4531,39.4375 Q645.4063,39.3125 645.2813,39.0625 Q644.9063,38.625 644.5,38.4688 Q644.1094,38.2969 643.6563,38.2969 Q643.0156,38.2969 642.4375,38.75 Q641.875,39.1875 641.5313,40.0469 Q641.1875,40.9063 641.1875,42.1719 Q641.1875,44.0156 641.8594,45.0625 Q642.5313,46.1094 643.5469,46.1094 Q644.1719,46.1094 644.625,45.8438 Q645.0938,45.5625 645.4688,44.9375 L646.7969,45.9219 Q646.2031,46.8906 645.3906,47.2969 Q644.5781,47.6875 643.5,47.6875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="664.25" y="46.448">ChattingSession</text><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="801.5" y1="58.5" y2="58.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="801.5" y1="66.5" y2="66.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="74.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="603.5" y="80.7189">Date getTime()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="87.6999"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="603.5" y="93.9188">void sendMessage(message Message)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="591.5" y="100.8998"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="603.5" y="107.1187">Message receiveMessage()</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="31" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="74.3998" id="Message" style="stroke:#A80036;stroke-width:1.5;" width="85" x="616.5" y="201"/><ellipse cx="632.85" cy="217" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M632.6,222.1875 Q631.4438,222.1875 630.475,221.625 Q629.5219,221.0469 628.9438,219.8438 Q628.3813,218.6406 628.3813,216.7656 Q628.3813,215.2031 628.7563,214.1406 Q629.1469,213.0781 629.7719,212.4531 Q630.3969,211.8125 631.1469,211.5313 Q631.9125,211.25 632.6625,211.25 Q633.85,211.25 634.7094,211.7969 Q635.5688,212.3438 636.0063,213.3281 L634.8031,214.2344 L634.6625,214.3125 L634.5844,214.1875 Q634.6,214.0625 634.5531,213.9375 Q634.5063,213.8125 634.3813,213.5625 Q634.0063,213.125 633.6,212.9688 Q633.2094,212.7969 632.7563,212.7969 Q632.1156,212.7969 631.5375,213.25 Q630.975,213.6875 630.6313,214.5469 Q630.2875,215.4063 630.2875,216.6719 Q630.2875,218.5156 630.9594,219.5625 Q631.6313,220.6094 632.6469,220.6094 Q633.2719,220.6094 633.725,220.3438 Q634.1938,220.0625 634.5688,219.4375 L635.8969,220.4219 Q635.3031,221.3906 634.4906,221.7969 Q633.6781,222.1875 632.6,222.1875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="647.15" y="220.948">Message</text><line style="stroke:#A80036;stroke-width:1.5;" x1="617.5" x2="700.5" y1="233" y2="233"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="622.5" y="247.2189">time : Date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="622.5" y="260.4188">content : String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="617.5" x2="700.5" y1="267.3998" y2="267.3998"/><!--MD5=[24a4751dab83c56cb9aa5f8fcf627ca0]
class UserList--><rect codeLine="36" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="61.1999" id="UserList" style="stroke:#A80036;stroke-width:1.5;" width="142" x="445" y="342"/><ellipse cx="489.25" cy="358" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M489,363.1875 Q487.8438,363.1875 486.875,362.625 Q485.9219,362.0469 485.3438,360.8438 Q484.7813,359.6406 484.7813,357.7656 Q484.7813,356.2031 485.1563,355.1406 Q485.5469,354.0781 486.1719,353.4531 Q486.7969,352.8125 487.5469,352.5313 Q488.3125,352.25 489.0625,352.25 Q490.25,352.25 491.1094,352.7969 Q491.9688,353.3438 492.4063,354.3281 L491.2031,355.2344 L491.0625,355.3125 L490.9844,355.1875 Q491,355.0625 490.9531,354.9375 Q490.9063,354.8125 490.7813,354.5625 Q490.4063,354.125 490,353.9688 Q489.6094,353.7969 489.1563,353.7969 Q488.5156,353.7969 487.9375,354.25 Q487.375,354.6875 487.0313,355.5469 Q486.6875,356.4063 486.6875,357.6719 Q486.6875,359.5156 487.3594,360.5625 Q488.0313,361.6094 489.0469,361.6094 Q489.6719,361.6094 490.125,361.3438 Q490.5938,361.0625 490.9688,360.4375 L492.2969,361.4219 Q491.7031,362.3906 490.8906,362.7969 Q490.0781,363.1875 489,363.1875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="509.75" y="361.948">UserList</text><line style="stroke:#A80036;stroke-width:1.5;" x1="446" x2="586" y1="374" y2="374"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="451" y="388.2189">Map&lt;userID, String&gt; : map</text><line style="stroke:#A80036;stroke-width:1.5;" x1="446" x2="586" y1="395.1999" y2="395.1999"/><!--MD5=[cbca7c54d7afdf4880cd4bf31c393a57]
class userID--><rect codeLine="40" fill="#FEFECE" filter="url(#fiygla8lliwgv)" height="61.1999" id="userID" style="stroke:#A80036;stroke-width:1.5;" width="68" x="622" y="342"/><ellipse cx="637" cy="358" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M636.75,363.1875 Q635.5938,363.1875 634.625,362.625 Q633.6719,362.0469 633.0938,360.8438 Q632.5313,359.6406 632.5313,357.7656 Q632.5313,356.2031 632.9063,355.1406 Q633.2969,354.0781 633.9219,353.4531 Q634.5469,352.8125 635.2969,352.5313 Q636.0625,352.25 636.8125,352.25 Q638,352.25 638.8594,352.7969 Q639.7188,353.3438 640.1563,354.3281 L638.9531,355.2344 L638.8125,355.3125 L638.7344,355.1875 Q638.75,355.0625 638.7031,354.9375 Q638.6563,354.8125 638.5313,354.5625 Q638.1563,354.125 637.75,353.9688 Q637.3594,353.7969 636.9063,353.7969 Q636.2656,353.7969 635.6875,354.25 Q635.125,354.6875 634.7813,355.5469 Q634.4375,356.4063 634.4375,357.6719 Q634.4375,359.5156 635.1094,360.5625 Q635.7813,361.6094 636.7969,361.6094 Q637.4219,361.6094 637.875,361.3438 Q638.3438,361.0625 638.7188,360.4375 L640.0469,361.4219 Q639.4531,362.3906 638.6406,362.7969 Q637.8281,363.1875 636.75,363.1875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="651" y="361.948">userID</text><line style="stroke:#A80036;stroke-width:1.5;" x1="623" x2="689" y1="374" y2="374"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="628" y="388.2189">int : ID</text><line style="stroke:#A80036;stroke-width:1.5;" x1="623" x2="689" y1="395.1999" y2="395.1999"/><!--MD5=[fb4a3ef56b90ccd3601dc17eebd18d83]
reverse link RemoteDatabaseManager to main--><path codeLine="45" d="M242.65,109.62 C293.95,131.84 357.91,161.8 412,194 C418.79,198.04 425.74,202.69 432.38,207.42 " fill="none" id="RemoteDatabaseManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="238.04,107.62,244.7095,114.8669,242.6283,109.6068,247.8884,107.5257,238.04,107.62" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="246.8114" y="127.9423">1</text><!--MD5=[342470d84a68206c6868338f70b7f700]
reverse link DistributedDataManager to main--><path codeLine="46" d="M399.89,238 C409.91,238 419.94,238 429.97,238 " fill="none" id="DistributedDataManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="394.64,238,403.64,242,399.64,238,403.64,234,394.64,238" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="402.5704" y="234.6505">1</text><!--MD5=[d566c10f5fd84f0da7893084dc815b76]
reverse link UIManager to main--><path codeLine="47" d="M450.48,139.1 C455.2,162.8 460.27,188.22 464.06,207.21 " fill="none" id="UIManager-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="449.48,134.07,447.3066,143.676,450.4523,138.9745,455.1538,142.1203,449.48,134.07" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="443.5183" y="154.3876">1</text><!--MD5=[48f586ba602983cb5a7be69e50d98794]
reverse link ChattingSession to main--><path codeLine="48" d="M630.8,117.66 C592.06,146.41 543.39,182.53 509.8,207.46 " fill="none" id="ChattingSession-backto-main" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="634.99,114.55,625.3813,116.7116,630.978,117.534,630.1557,123.1307,634.99,114.55" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="605.001" y="134.2719">0..*</text><!--MD5=[8c9babbd87fba3c124342ea8c8cad23e]
reverse link UIManager to ChattingSession--><path codeLine="49" d="M553.69,70.5 C563.63,70.5 573.56,70.5 583.5,70.5 " fill="none" id="UIManager-backto-ChattingSession" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="548.5,70.5,557.5,74.5,553.5,70.5,557.5,66.5,548.5,70.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b259fcf2890f91fafce0d0dcfff19b71]
link UserList to userID--><path codeLine="50" d="M587.09,372.5 C596.95,372.5 606.81,372.5 616.66,372.5 " fill="none" id="UserList-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="621.82,372.5,612.82,368.5,616.82,372.5,612.82,376.5,621.82,372.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="593.9504" y="368.2767">0..*</text><!--MD5=[575ae5f8a95ff5e63e8c0ce37e6efb43]
link main to userID--><path codeLine="51" d="M510.36,267.75 C542.26,290.48 586.49,321.98 617.81,344.3 " fill="none" id="main-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="621.95,347.25,616.9598,338.759,617.8842,344.3398,612.3034,345.2642,621.95,347.25" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c00eaf3dc59855bcedd6fa91d12be3a5]
link ChattingSession to userID--><path codeLine="52" d="M708.86,114.81 C722.27,158.07 736.73,226.01 719,282 C712.55,302.37 699.61,322.12 687.12,337.86 " fill="none" id="ChattingSession-to-userID" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="683.96,341.77,692.7299,337.2879,687.1043,337.8824,686.5098,332.2569,683.96,341.77" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[92552366479dc42050c6f8563d855510]
link main to UserList--><path codeLine="53" d="M480.32,268.74 C487.34,288.94 496.64,315.73 503.98,336.89 " fill="none" id="main-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="505.71,341.86,506.5521,332.0472,504.0774,337.134,498.9906,334.6594,505.71,341.86" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bcbfe92bd5a886e938b40b2ec469097b]
link ChattingSession to UserList--><path codeLine="54" d="M656.2,114.64 C637.76,137.4 615.84,166.28 599,194 C570.18,241.44 544.38,300.52 529.46,337.12 " fill="none" id="ChattingSession-to-UserList" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="527.51,341.92,534.61,335.0944,529.3965,337.2895,527.2013,332.076,527.51,341.92" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f4c6d2b6a1e4be654f071f327efb56]
link ChattingSession to Message--><path codeLine="55" d="M684.16,114.55 C679.01,139.59 672.56,170.98 667.48,195.71 " fill="none" id="ChattingSession-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="666.42,200.88,672.1389,192.8616,667.4198,195.981,664.3004,191.2619,666.42,200.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa7045a6c40818aa15b2b1ef6a2d3648]
link main to Message--><path codeLine="56" d="M510.24,238 C543.79,238 577.35,238 610.9,238 " fill="none" id="main-to-Message" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="616.29,238,607.29,234,611.29,238,607.29,242,616.29,238" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b7c4fdd3dd8fdfc87ae670754d9110dc]
@startuml class
abstract class main {
    -void main()
}

abstract class UIManager {
    +void openUI()
    +void inputDialogBox(string Login)
    +void openChattingSession(userID User)
    +void closeChattingSession(userID User)
    +void addMessage(message Message)
    +void addHistory(message[] Messages)
}

abstract class DistributedDataManager {
    +UserList getConnectedUserList()
    +void notifyUsers()
    +void notifyNewName(userID User,string Login)
}

abstract class  RemoteDatabaseManager{
    +message[] retrieveHistory(userID User)
    +void updateHistory(userID User, message Message)
}

class ChattingSession{
    -Date getTime()
    -void sendMessage(message Message)
    -Message receiveMessage()
}

class Message{
    time : Date
    content : String
}

class UserList{
    Map<userID, String> : map
}

class userID{
    int : ID
} 


RemoteDatabaseManager "1" <- - main
DistributedDataManager "1" <- main
UIManager "1" <- main
ChattingSession "0..*" <- - main
UIManager <- ChattingSession
UserList -> "0..*" userID
main -> userID
ChattingSession - -> userID
main - -> UserList
ChattingSession - -> UserList
ChattingSession -> Message
main -> Message

@enduml

PlantUML version 1.2021.14(Fri Nov 12 17:46:50 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>